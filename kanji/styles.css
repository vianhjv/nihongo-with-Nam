/* ========== CORE STYLES ========== */
body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background-color: #2c3e50; /* Nền chính: Xanh-xám đậm */
    color: #ecf0f1; /* Màu chữ chính: Trắng xám, độ tương phản tốt */
    margin: 0;
    padding: 20px;
    line-height: 1.6;
}

/* ========== GENERAL TEXT STYLES ========== */
p { /* Áp dụng màu chữ chung cho đoạn văn */
    color: #bdc3c7; /* Màu chữ cho <p>: Xám nhạt theo style-guide */
}

strong { /* Màu nhấn mạnh chung */
    color: #f1c40f; /* Vàng theo style-guide */
}

code { /* Style cho thẻ code theo style-guide */
    background-color: #2c3e50;
    color: #e67e22; /* Orange */
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
}


/* ========== HEADER SECTION ========== */
.header {
    background-color: #34495e; /* Nền header: Xanh-xám nhạt hơn */
    color: #fef9f3; /* Màu chữ header: Trắng ngà */
    padding: 30px 20px;
    text-align: center;
    border-radius: 12px;
    margin-bottom: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2); /* Đổ bóng nhẹ */
}

.header h1 {
    margin: 0;
    font-size: 2.5em;
    font-weight: bold;
    letter-spacing: 1px;
    color: #f1c40f; /* Màu tiêu đề chính: Vàng theo style-guide */
}

.subtitle {
    font-size: 1.2em;
    margin-top: 10px;
    color: #bdc3c7; /* Màu phụ đề: Xám nhạt */
}

/* ========== STATS BOX SECTION ========== */
.stats-box {
    background-color: #34495e; /* Nền hộp thống kê: Giống header */
    color: #ecf0f1;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    margin-bottom: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15); /* Đổ bóng nhẹ */
}

.stats-number {
    font-size: 3.5em;
    font-weight: bold;
    color: #1abc9c; /* Màu số thống kê: Xanh ngọc (Teal) */
    line-height: 1;
}

.stats-box div:last-child {
    font-size: 1em;
    color: #bdc3c7; /* Màu chữ phụ hộp thống kê: Xám nhạt */
    margin-top: 8px;
}

/* ========== GUIDE SECTION (Dùng cho ví dụ ngữ pháp) ========== */
.guide-section {
    background-color: #34495e;
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
}

.guide-section h2 { /* Style cho h2 nếu có trong guide-section */
    color: #1abc9c; /* Teal */
    font-size: 1.8em;
    margin-top: 0;
    border-bottom: 2px solid #2c3e50;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

/* ========== FOOTER SECTION ========== */
.footer {
    background-color: #34495e; /* Nền khối chân trang: Giống header */
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15); /* Đổ bóng nhẹ */
}

.footer h3 {
    color: #1abc9c; /* Màu tiêu đề phụ: Xanh ngọc (Teal) */
    margin-top: 0;
    border-bottom: 2px solid #2c3e50; /* Đường kẻ dưới tiêu đề phụ */
    padding-bottom: 10px;
    margin-bottom: 15px;
    font-size: 1.5em;
}

.footer ul { /* Áp dụng cho danh sách trong .footer */
    display: inline-block; /* Để căn giữa danh sách */
    text-align: left;
    margin-top: 10px;
    padding-left: 20px; /* Thụt lề cho dấu đầu dòng */
}

.footer ul li {
    padding: 6px 0;
    color: #bdc3c7; /* Màu chữ mục trong danh sách: Xám nhạt */
}

.footer ul li strong { /* Ghi đè strong chung để có màu Teal */
    color: #1abc9c; 
}

/* ========== MOBILE NOTE SECTION ========== */
.mobile-note strong { 
    color: #e74c3c; /* Màu chữ cảnh báo/lưu ý: Đỏ */
}

.mobile-note {
    background-color: #4a6179; /* Nền thông báo điện thoại: Xanh xám trung bình */
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 30px;
    border: 1px solid #2c3e50; /* Viền nhẹ */
    text-align: center;
    font-size: 0.95em;
}

/* ========== SEARCH BOX SECTION ========== */
.search-box {
    margin-bottom: 25px;
    text-align: center;
}

.search-input {
    width: 70%;
    max-width: 600px;
    padding: 15px 20px;
    border: none;
    background-color: #2c3e50; /* Nền ô tìm kiếm: Giống nền body */
    color: #ecf0f1; /* Màu chữ nhập: Trắng xám */
    border-radius: 8px;
    font-size: 1.1em;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2); /* Đổ bóng vào trong */
}

.search-input::placeholder {
    color: #95a5a6; /* Màu chữ placeholder: Xám xanh nhạt */
}

/* ========== KANJI TABLE STYLES ========== */
.kanji-table-container {
    overflow-x: auto; /* Cho phép cuộn ngang trên thiết bị nhỏ */
    background-color: #34495e; /* Nền container bảng: Giống header */
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15); /* Đổ bóng */
    padding: 10px; /* Khoảng đệm nhỏ xung quanh bảng */
}

#kanjiTable {
    width: 100%;
    border-collapse: separate; /* Cho phép bo góc trên cell */
    border-spacing: 0; /* Bỏ khoảng cách giữa các cell */
    font-size: 1em;
}

#kanjiTable th, 
#kanjiTable td {
    border: 1px solid #2c3e50; /* Viền cho các ô: Màu nền body */
    padding: 15px 12px; /* Khoảng đệm trong ô */
    text-align: left;
    vertical-align: top; /* Căn nội dung ô lên trên */
}

#kanjiTable th {
    background-color: #2c3e50; /* Nền tiêu đề cột: Màu nền body */
    color: #1abc9c; /* Màu chữ tiêu đề cột: Xanh ngọc (Teal) */
    font-weight: bold;
    position: sticky; /* Giữ tiêu đề cột khi cuộn */
    top: 0;
    z-index: 10;
    font-size: 1.1em;
}

/* Bo góc cho tiêu đề cột đầu và cuối */
#kanjiTable th:first-child { border-top-left-radius: 8px; }
#kanjiTable th:last-child { border-top-right-radius: 8px; }

/* Nền cho các hàng chẵn (tạo hiệu ứng zebra) */
#kanjiTable tr:nth-child(even) td {
    background-color: #3b5168; /* Màu nền hàng chẵn: Xanh xám đậm hơn một chút */
}

/* Hiệu ứng hover cho các hàng */
#kanjiTable tr:hover td {
    background-color: #4a6179; /* Màu nền khi hover: Xanh xám trung bình */
}

/* Tiêu đề phân loại nhóm Kanji */
.category-header td {
    background-color: #16a085; /* Nền tiêu đề nhóm: Xanh ngọc đậm hơn */
    color: #fef9f3; /* Màu chữ tiêu đề nhóm: Trắng ngà */
    font-weight: bold;
    font-size: 1.3em;
    text-align: center !important; /* Luôn căn giữa */
    padding: 18px 12px !important; /* Tăng khoảng đệm */
    letter-spacing: 0.5px;
}

/* Ô chứa chữ Kanji */
.kanji-char-cell {
    font-size: 3.2em; /* Kích thước chữ Kanji lớn */
    font-weight: bold;
    text-align: center;
    color: #f1c40f; /* Màu chữ Kanji: Vàng */
    vertical-align: middle; /* Căn giữa theo chiều dọc */
    min-width: 100px; /* Chiều rộng tối thiểu */
}

/* Âm Hán Việt đi kèm Kanji */
.kanji-char-cell .hanviet {
    font-size: 0.4em; /* Kích thước nhỏ hơn */
    display: block;
    color: #bdc3c7; /* Màu âm Hán Việt: Xám nhạt */
    font-weight: normal;
    margin-top: 6px;
}

/* Ô chứa cách đọc */
.reading-cell div {
    margin-bottom: 6px; /* Khoảng cách giữa các dòng On/Kun */
}

.reading-cell strong { /* Ghi đè strong chung cho label ON/KUN */
    color: #3498db; 
    font-weight: bold;
}

/* Ô chứa ý nghĩa */
.meaning-cell {
    font-size: 0.95em;
}
.meaning-cell p { /* Đảm bảo <p> trong meaning-cell cũng có màu đúng */
    color: #bdc3c7;
}


/* Ô chứa ví dụ */
.example-cell .japanese-example {
    font-size: 1.15em;
    margin-bottom: 6px;
    display: block;
    color: #ecf0f1; /* Màu câu tiếng Nhật: Trắng xám */
}

.example-cell .vietnamese-translation {
    font-style: italic;
    color: #95a5a6; /* Màu dịch tiếng Việt: Xám xanh nhạt */
    font-size: 0.9em;
}

/* Bo góc cho ô cuối cùng của bảng */
#kanjiTable tr:last-child td:first-child { border-bottom-left-radius: 8px; }
#kanjiTable tr:last-child td:last-child { border-bottom-right-radius: 8px; }

/* ========== GRAMMAR BOX STYLES (Dựa trên style-guide) ========== */
.component-preview { /* Lớp bọc cho component preview */
    border: 2px dashed #4a6179;
    padding: 20px;
    border-radius: 8px;
    margin-top: 15px;
}

.grammar-box {
    background-color: #34495e; /* Nền box: Xanh-xám nhạt */
    padding: 25px;
    border-radius: 12px;
    border-left: 5px solid #1abc9c; /* Viền trái Teal */
}
.grammar-box h3 {
    color: #f1c40f; /* Tiêu đề ngữ pháp: Vàng */
    font-size: 1.8em; 
    margin-top: 0; 
    margin-bottom: 5px;
}
.grammar-box .meaning {
    color: #bdc3c7; /* Màu ý nghĩa: Xám nhạt */
    font-size: 1.1em; 
    font-style: italic; 
    margin-bottom: 20px;
}
.grammar-section-title {
    color: #1abc9c; /* Tiêu đề phần nhỏ: Teal */
    font-weight: bold; 
    font-size: 1.2em; 
    margin-top: 25px;
    margin-bottom: 10px; 
    border-bottom: 1px dashed #4a6179; 
    padding-bottom: 8px;
}
.grammar-formula {
    background-color: #2c3e50; /* Nền công thức: Xanh-xám đậm */
    padding: 15px 20px; 
    border-radius: 8px;
    font-family: 'Courier New', Courier, monospace; 
    font-size: 1.1em; 
    color: #ecf0f1; /* Chữ trong công thức: Trắng xám */
    margin-bottom: 15px;
}
/* Màu cho các thành phần trong công thức theo style-guide */
.grammar-formula .noun { color: #3498db; } /* Xanh dương */
.grammar-formula .verb { color: #2ecc71; } /* Xanh lá */
.grammar-formula .particle { color: #e74c3c; } /* Đỏ */
.grammar-formula .grammar-point { color: #f1c40f; font-weight: bold; } /* Vàng */

.example-list { 
    list-style-type: none; 
    padding-left: 0; 
}
.example-list li {
    background-color: #4a617933; /* Nền ví dụ: Xanh xám trung bình trong suốt nhẹ */
    padding: 15px; 
    border-radius: 8px;
    margin-bottom: 15px;
}
.example-list .japanese-sentence {
    font-size: 1.2em; 
    margin-bottom: 8px; 
    color: #fef9f3; /* Chữ câu tiếng Nhật: Trắng ngà */
}
.example-list .vietnamese-meaning {
    font-size: 0.95em; 
    color: #bdc3c7; /* Chữ dịch nghĩa: Xám nhạt */
    font-style: italic;
}

/* ========== VERB CONJUGATION HIGHLIGHT ========== */
.verb-conjugation p {
    margin-bottom: 15px;
    font-size: 1.1em;
    background-color: #2c3e50; /* Nền giống grammar-formula */
    padding: 10px 15px;
    border-radius: 8px;
    color: #ecf0f1; /* Màu chữ chung cho phần này */
}
.verb-conjugation p ruby, .verb-conjugation p rt, .verb-conjugation p rp {
    color: #ecf0f1; /* Đảm bảo ruby text cũng có màu đúng */
}


.verb-conjugation .arrow {
    margin: 0 10px;
    color: #1abc9c; /* Teal cho mũi tên */
    font-weight: bold;
}

/* Phần đuôi gốc của động từ */
.verb-ending-original,
.verb-ending-original-romaji {
    /* color: #5dade2; */ /* Nếu muốn màu xanh dương nhạt */
    /* Hoặc giữ màu thừa hưởng từ .verb-conjugation p */
}
.verb-ending-original ruby, .verb-ending-original rt, .verb-ending-original rp {
     /* color: #5dade2; */ /* Đồng bộ màu cho ruby nếu có màu riêng */
}


/* Phần đuôi đã biến đổi - NỔI BẬT */
.verb-ending-changed,
.verb-ending-changed-romaji {
    color: #e67e22 !important; /* ORANGE - Màu cam để làm nổi bật phần biến đổi (dùng !important nếu bị ghi đè) */
    font-weight: bold;
}
/* Đảm bảo ruby bên trong phần biến đổi cũng được tô màu */
.verb-ending-changed ruby, .verb-ending-changed rt, .verb-ending-changed rp,
.verb-ending-changed-romaji {
    color: #e67e22 !important;
}


/* Ghi chú cho trường hợp đặc biệt */
.verb-conjugation .note-special-case {
    font-size: 0.9em;
    color: #bdc3c7; /* Xám nhạt cho ghi chú */
    margin-left: 10px;
    font-style: italic;
}


/* ========== RESPONSIVE ADJUSTMENTS ========== */
@media (max-width: 768px) {
    body {
        padding: 10px; /* Giảm padding trên thiết bị nhỏ */
    }
    .header h1 {
        font-size: 2em; /* Giảm kích thước tiêu đề chính */
    }
    .subtitle {
        font-size: 1.1em; /* Giảm kích thước phụ đề */
    }
    #kanjiTable th, 
    #kanjiTable td {
        padding: 10px 8px; /* Giảm padding ô bảng */
        font-size: 0.9em; /* Giảm kích thước chữ trong bảng */
    }
    .kanji-char-cell {
        font-size: 2.5em; /* Giảm kích thước chữ Kanji */
    }
    .kanji-char-cell .hanviet {
        font-size: 0.4em; /* Giữ nguyên hoặc điều chỉnh nhỏ */
    }
    .example-cell .japanese-example {
        font-size: 1.05em; /* Giảm kích thước câu ví dụ */
    }
    .search-input {
        width: 90%; /* Tăng chiều rộng ô tìm kiếm */
        font-size: 1em;
        padding: 12px 15px;
    }
    .category-header td {
        font-size: 1.1em; /* Giảm kích thước tiêu đề nhóm */
        padding: 15px 10px !important;
    }

    /* Responsive cho phần giải thích ngữ pháp */
    .grammar-box h3 {
        font-size: 1.6em;
    }
    .grammar-formula {
        font-size: 1em;
        padding: 10px 15px;
    }
    .verb-conjugation p {
        font-size: 1em; 
        padding: 8px 12px;
    }
    .example-list .japanese-sentence {
        font-size: 1.1em;
    }
}